<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Sales Report</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Product Sales Report</h1>
        <table id="product-sales" class="table table-striped">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Sales</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <h3>Total Sales: $<span id="total-sales">0</span></h3>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            async function loadSalesData() {
                try {
                    const response = await fetch('data.csv');
                    const data = await response.text();
                    const rows = data.split('\n').slice(1); // Skip header row
                    let totalSales = 0;

                    rows.forEach(row => {
                        const [product, sales] = row.split(',').map(item => item.trim());
                        const salesValue = parseFloat(sales);
                        if (product && !isNaN(salesValue)) {
                            totalSales += salesValue;

                            const tableRow = document.createElement('tr');
                            tableRow.innerHTML = `<td>${product}</td><td>${salesValue.toFixed(2)}</td>`;
                            document.querySelector('#product-sales tbody').appendChild(tableRow);
                        }
                    });

                    document.getElementById('total-sales').textContent = totalSales.toFixed(2);
                } catch (error) {
                    console.error('Error fetching sales data:', error);
                }
            }

            loadSalesData();
        });
    </script>
</body>
</html>